<?xml version="1.0" encoding="utf-8"?>
<!-- status="off",log4j2把自身事件记录到控制台的配置，off表示不记录，其余的记录有trace，debug，info，warn，error，fatal -->
<!-- monitorInterval表示检测更改配置的时间,单位是秒,最小间隔为5秒,0或负数表示不检测 -->
<Configuration status="WARN" monitorInterval="1800">
    <properties>
        <property name="LOG_HOME">/Users/hyy044101331/logs/springboot-mvc-velocity</property>
        <property name="FILE_NAME">spring-mvc</property>
    </properties>
    <Appenders>
        <Console name="Console" target="SYSTEM_OUT">
            <!-- Console output only level And above level of information （onMatch）， Other direct rejection （onMismatch）-->
            <!--<ThresholdFilter level="trace" onMatch="ACCEPT" onMismatch="DENY"/>-->
            <!-- This is known as the output log format -->
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p %c{1} - %msg%n"/>
        </Console>

        <!-- Add filter ThresholdFilter, You can selectively output classes at or above a certain level  onMatch="ACCEPT" onMismatch="DENY" Matches are accepted , Otherwise, direct rejection -->
        <File name="ERROR" fileName="${LOG_HOME}/${FILE_NAME}-error.log">
            <ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="DENY"/>
            <PatternLayout pattern="%d{yyyy.MM.dd 'at' HH:mm:ss z} %-5level %class{36} %L %M - %msg%xEx%n"/>
        </File>

        <!-- This will print all the information ， Each size exceeds size， Is this size The size of the log is automatically saved by year - Set up folders below month and compress them ， As archive -->
        <RollingFile name="RollingFile" fileName="${LOG_HOME}/${FILE_NAME}.log"
                     filePattern="${LOG_HOME}/$${date:yyyy-MM}/${FILE_NAME}-%d{yyyyMMdd HH}-%i.log.gz">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p - %msg%xEx%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true"/>
                <SizeBasedTriggeringPolicy size="5MB"/>
            </Policies>
            <DefaultRolloverStrategy max="200"/>
        </RollingFile>
    </Appenders>
    <Loggers>
        <!--<logger name="org.apache.http" level="warn" />-->
        <!--&lt;!&ndash; Spring &ndash;&gt;-->
        <!--<logger name="org.springframework" level="WARN" />-->
        <!-- mybatis loggers -->
        <!--<logger name="com.ibatis" level="DEBUG" />-->
        <!--<logger name="com.ibatis.common.jdbc.SimpleDataSource" level="DEBUG" />-->
        <!--<logger name="com.ibatis.common.jdbc.ScriptRunner" level="DEBUG" />-->
        <!--<logger name="com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate" level="DEBUG" />-->
        <!--&lt;!&ndash; sql loggers &ndash;&gt;-->
        <!--<logger name="java.sql.Connection" level="DEBUG"  additivity="true"/>-->
        <!--<logger name="java.sql.Statement" level="DEBUG" additivity="true" />-->
        <!--<logger name="java.sql.PreparedStatement" level="=debug,stdout"  additivity="true"/>-->
        <!--<logger name="java.sql.ResultSet" level="DEBUG"  additivity="true"/>-->
        <!--&lt;!&ndash; General Apache libraries &ndash;&gt;-->
        <!--<logger name="org.apache" level="WARN" />-->
        <!--&lt;!&ndash; Default Shiro logging &ndash;&gt;-->
        <!--<logger name="org.apache.shiro" level="WARN" />-->
        <!--&lt;!&ndash; Disable verbose logging &ndash;&gt;-->
        <!--<logger name="org.apache.shiro.util.ThreadContext" level="WARN" />-->
        <!--<logger name="org.apache.shiro.cache.ehcache.EhCache" level="WARN" />-->
        <!--&lt;!&ndash; 对包进行更详细的配置 &ndash;&gt;-->
        <!--&lt;!&ndash; additivity表示是否追加,防止重复,因为root已经接收过一次了 &ndash;&gt;-->
        <!--<logger name="cn.com.baseos" level="DEBUG" additivity="false">-->
            <!--<appender-ref ref="console" />-->
            <!--<appender-ref ref="file" />-->
        <!--</logger>-->

        <!--<Logger name="org.mybatis" level="DEBUG">-->
            <!--<AppenderRef ref="Console"/>-->
            <!--<AppenderRef ref="RollingFile"/>-->
        <!--</Logger>-->

        <!--<Logger name="java.sql" level="DEBUG">-->
            <!--<AppenderRef ref="Console"/>-->
            <!--<AppenderRef ref="RollingFile"/>-->
        <!--</Logger>-->

        <logger name="org.hibernate" level="debug"/>
        <logger name="org.hibernate.transaction" level="debug"/>

        <logger name="org.mybatis" level="info"/>
        <logger name="org.apache.ibatis" level="info"/>

        <logger name="org.springframework.core" level="info"/>
        <logger name="org.springframework.beans" level="info"/>
        <logger name="org.springframework.context" level="info"/>
        <logger name="org.springframework.web" level="info"/>

        <Logger name="com.mengka.springboot" level="info"/>

        <Root level="warn">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="RollingFile"/>
            <appender-ref ref="ERROR" />
        </Root>
    </Loggers>
</Configuration>